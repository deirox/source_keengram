дай мне реализацию сквозного шифрования для соцсети с возможностью неограниченного количества человек в чате, с возможностью расшифровки старых сообщений, с созданием публичного и приватного ключа, сохранением в Firebase и хранением приватного ключа в зашифрованном виде паролем пользователя, сохранением расшифрованного приватного ключа в indexedDB, также необходимо чтобы сообщения поддерживаил и текст и видео и аудио и фото

мессенджер
-стандартный набор эмодзи, стикеры (под вопросом)
-*наборы эмодзи
-есть 1x p2p
-есть p2group
-есть Xx p2p
-есть каналы

чаты
-видно фото собеседника, или фото чата
-видно последнее сообщение (только имя отправителя и текст)

чат
-сообщения шифруются
-свои сообщения справа, остальные слева
-вид похожий на телеграмм сообщения
-возможность отправки медия (фото, видео, pdf)
-в общий чат можно приглашать друзей
-возможность показа сообщений до даты приглашения человека
-возможность запрета на пересылку сообщений
-кружки, аудиосообщения
-индикатор печатанья (надо будет посмотреть не критично ли по запросам к Firebase) сообщение
-можно ответить на сообщение
-можно удалить сообщение
-можно переслать сообщение
-форматирование(жирные буквы, ссылки), совместимость с телеграмм
-реакции в виде стандартного набора эмодзи
-имеет автора
-*количество просмотров

сообщение
-можно ответить на сообщение
-можно удалить сообщение
-можно переслать сообщение
-статус "прочитан"
-форматирование(жирные буквы, ссылки), совместимость с телеграмм
-реакции в виде стандартного набора эмодзи
-имеет автора
-*количество просмотров
